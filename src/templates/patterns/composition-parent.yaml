$schema: https://raw.githubusercontent.com/mhingston/keystone-cli/main/schemas/workflow.json
name: composition-parent
description: "A parent workflow that calls a child workflow"

steps:
  - id: run_child
    type: workflow
    path: "./composition-child.yaml"
    inputs:
      name: "Keystone User"
    outputMapping:
      result: result

  - id: print_result
    type: shell
    needs: [run_child]
    run: echo "Child workflow result - ${{ escape(steps.run_child.outputs.result) }}"
